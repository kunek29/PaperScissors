<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>PaperScissors</title>
  </head>
<body>
  <p id="container"></p>
  <script>
    
    function getComputerChoice(array) {
        if (array !== undefined) {
            return array[Math.floor(Math.random() * array.length)];
        }
    }

    function checkPlayerSelection(string, array) {
        lowerString = string.toLowerCase();
        for (let i = 0; i < array.length; i++) {
            if (lowerString === array[i]) {
                return array[i];
            }
        }
    }

    function checkResult(string1, string2) {
        if (string1 === string2) {
            alert("draw");
        } else if (
                string1 === "rock" && string2 === "scissors" || 
                string1 === "scissors" && string2 === "paper" || 
                string1 === "paper" && string2 === "rock") {
            alert("you win");
            return string1;
        } else {
            alert("you lose");
            return string2;
        }
    }

    const choices = ["paper", "rock", "scissors"];
    let playerScore = 0;
    let computerScore = 0;

    for (let i = 0; i < 5; i++) {
        const playerSelection = prompt(choices);
        let checkedPlayerSelection = checkPlayerSelection(playerSelection, choices);
        if (!checkedPlayerSelection) {
        alert("incorrect input");
        }

        const computerSelection = getComputerChoice(choices);
        let winner = checkResult(choice, computerSelection);
        if (winner === checkedPlayerSelection) {
            playerScore++;
        } else if (winner === computerSelection) {
            computerScore++;
        }
    };

    if (playerScore > computerScore) {
        alert("you won!");
    } else {
        alert("you lost");
    };
    
  </script>
  
</body>
</html>